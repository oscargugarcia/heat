% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/aggregation.R
\name{create_bins}
\alias{create_bins}
\title{Create One-Hot Encoded Bin Matrix for Raster Data}
\usage{
create_bins(x, breaks, ...)
}
\arguments{
\item{x}{A numeric vector of cell values across time steps.}

\item{breaks}{A numeric vector specifying the inner break points to be used for binning. The function
automatically prepends \code{-Inf} and appends \code{Inf} to this vector.}

\item{...}{Additional arguments to be passed to \code{findInterval}, allowing customization of the binning behavior.}
}
\value{
A matrix with dimensions (n_time x n_bins) where n_time is the length of x and n_bins is
length(breaks) + 1. Each row contains a one-hot encoding with a single 1 indicating which bin
that time step's value belongs to, and 0s elsewhere.
}
\description{
This function converts a vector of raster cell values (across time steps) into a one-hot encoded
matrix based on specified bin breaks. It automatically prepends -Inf and appends Inf to the provided
inner break points, ensuring that every finite value is captured in one of the bins. The output
matrix has dimensions (n_time x n_bins), where each row represents a time step and contains a
one-hot encoding indicating which bin that time step's value falls into.
}
\examples{
\dontrun{
# Example 1: Basic usage with a cell value vector across 3 time steps and inner breaks at 10 and 20.
# The full breaks become c(-Inf, 10, 20, Inf), resulting in 3 bins.
# For a cell with values c(2, 15, 30), the output will be a 3x3 matrix.
create_bins(c(2, 15, 30), breaks = c(10, 20))
#      [,1] [,2] [,3]
# [1,]    1    0    0  # value 2 is in bin 1 (-Inf to 10)
# [2,]    0    1    0  # value 15 is in bin 2 (10 to 20)
# [3,]    0    0    1  # value 30 is in bin 3 (20 to Inf)

# Example 2: Passing additional arguments to findInterval.
create_bins(c(2, 15, 30), breaks = c(10, 20), rightmost.closed = TRUE)
}
}
