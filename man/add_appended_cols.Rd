% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/aggregation.R
\name{add_appended_cols}
\alias{add_appended_cols}
\title{Add Appended Columns to Aggregation Results}
\usage{
add_appended_cols(temp_agg_long, polygons, poly_id_col, appended_cols)
}
\arguments{
\item{temp_agg_long}{A data frame containing long-format spatial aggregation results that includes a "poly_id" column.}

\item{polygons}{An sf object containing spatial polygon data and additional attributes.}

\item{poly_id_col}{A string representing the column name in \code{polygons} that uniquely identifies each polygon.}

\item{appended_cols}{A character vector of column names in \code{polygons} to append to \code{temp_agg_long}.}
}
\value{
A data frame with the appended columns merged (and relocated immediately after "poly_id").
}
\description{
This function optionally appends additional columns from an sf object (polygons) to a
long-format spatial aggregation data frame (\code{temp_agg_long}). It does so by:
\enumerate{
\item Dropping the geometry from the polygons.
\item Creating a new column named "poly_id" using the column specified by \code{poly_id_col}.
\item Checking for column name conflicts (other than "poly_id") and renaming conflicting
columns in polygons by appending '_SPATIAL_FILE'.
\item Selecting the "poly_id" and the specified appended columns.
\item Left joining these columns to \code{temp_agg_long} by "poly_id".
\item Relocating the appended columns to immediately follow the "poly_id" column.
}
}
\examples{
\dontrun{
  # Suppose temp_agg_long has a column "poly_id", and polygons is an sf object with an identifier
  # column "ID" and additional columns "region" and "area" that you want to add:
  result <- add_appended_cols(temp_agg_long, polygons, poly_id_col = "ID", appended_cols = c("region", "area"))
}
}
